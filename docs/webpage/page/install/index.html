<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
   <meta name="description" content="EXCEED-DM: EXtended Calculation of Electronic Excitations for Direct detection of Dark Matter.">
    
    <meta name="author" content="Tanner Trickle" >
    <link rel="icon" href="../../favicon.png">

    <title>Installation &ndash; EXCEED-DM</title>

    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
    
    <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">EXCEED-DM <small>0.2.7</small></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
        
            <li><a href='../../page/index.html'>Documentation</a></li>
      
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
          
              
            <li><a href="../../lists/files.html">Source Files</a></li>
        
        
        
            <li><a href="../../lists/modules.html">Modules</a></li>
        
            
                                
            <li><a href="../../lists/procedures.html">Procedures</a></li>
        
               
            <li><a href="../../lists/types.html">Derived Types</a></li>
        
        
            <li><a href="../../program/exdm.html">Program</a></li>
      
            </ul>
            </li>


<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/files.html">Source Files</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/modules.html">Modules</a></li>



<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/procedures.html">Procedures</a></li>

                             
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/types.html">Derived Types</a></li>


<li class="visible-xs hidden-sm visible-lg"><a href="../../program/exdm.html">Program</a></li>

          </ul>
        
        <form action="../../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
    
  <div class="row">
    <h1>Installation</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
         
        <li><i class="fa fa-pencil"></i> Tanner Trickle</li>
         
         
        <li><i class="fa fa-calendar-o"></i> v0.2.6</li>
         
<!--
        
-->
      </ul>
        <ol class="breadcrumb in-well">
      
         <li><a href='../../page/index.html'>Documentation</a></li>
      
         <li class="active">Installation</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <h1>Installation</h1>
<p>Instuctions on how to setup, and check the setup of, <code>EXCEED-DM</code> using CMake. </p>
<h2>Build</h2>
<p>To build <code>EXCEED-DM</code> to <code>/your/path/EXCEED-DM</code> with CMake,</p>
<div class="codehilite"><pre><span></span><code>&gt; tar -xvzf EXCEED-DM-vX.Y.Z.tar.gz -C /your/path/EXCEED-DM
&gt; cd /your/path/EXCEED-DM
&gt; mkdir build
&gt; cd build
&gt; cmake ..
&gt; make
</code></pre></div>

<h3>Build Options</h3>
<p>CMake allows the user to change many of the build parameters at the command line. Simply append these options to the <code>cmake ..</code> command in the previous section.</p>
<ul>
<li>
<p>To specify a different Fortran compiler,</p>
<div class="codehilite"><pre><span></span><code>-DCMAKE_Fortran_COMPILER=&lt;your compiler&gt;
</code></pre></div>

</li>
<li>
<p>To specify a build mode, </p>
<div class="codehilite"><pre><span></span><code>-DCMAKE_BUILD_TYPE=&lt;build-type&gt;
</code></pre></div>

<p>Options are: <code>Release</code>, <code>Debug</code></p>
</li>
</ul>
<h3>Cluster/Supercomputer</h3>
<p>Large computing systems should have a way to load the pre-requisite software, e.g. <code>module load openmpi</code>. Once all of the prerequisites are loaded cmake should automatically find the correct file locations. </p>
<p>Notes:
- You might have to specify the compiler directly with a build option.
- Your version of HDF5 should have been compiled with the same compiler you're using. There seems to be some wiggle room with different versions of the same compiler, but expect errors if you compiled HDF5 with GNU Fortran and want to compile the main program with an Intel compiler.</p>
<h3>Check Build</h3>
<p>To check that the program was built run</p>
<div class="codehilite"><pre><span></span><code>mpirun -np 2 ./build/exdm
</code></pre></div>

<p>from the main folder.</p>
<h3>Clean Build</h3>
<p>To remove the current build of the program, run</p>
<div class="codehilite"><pre><span></span><code>cmake --build . --target clean
</code></pre></div>

<p>from the <code>build/</code> folder.</p>
<h2>Pre-requisites</h2>
<ul>
<li>Fortran compiler</li>
<li>OpenMPI</li>
<li>FFTW3</li>
<li>HDF5</li>
<li>LAPACK</li>
<li>BLAS</li>
<li>CMake (v&gt;=3.16)</li>
</ul>
<h2>Fortran90 compiler</h2>
<h3>Linux</h3>
<h4>Install</h4>
<div class="codehilite"><pre><span></span><code>sudo apt install gfortran
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>gfortran --version
</code></pre></div>

<h3>Mac</h3>
<h4>Install</h4>
<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>gfortran --version
</code></pre></div>

<ul>
<li>
<p>Note: attempt compiling a seperate test program, if an error about <strong>-lSystem</strong> shows up try</p>
<p>brew reinstall gcc </p>
</li>
</ul>
<h2>OpenMPI</h2>
<h3>Linux</h3>
<h4>Install</h4>
<div class="codehilite"><pre><span></span><code>sudo apt install libopenmpi-dev
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>mpirun --version
</code></pre></div>

<h3>Mac</h3>
<h4>Install</h4>
<p>Follow the instructions at <a href="https://www.open-mpi.org/faq/?category=building#easy-build">https://www.open-mpi.org/faq/?category=building#easy-build</a>.</p>
<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>mpirun --version
</code></pre></div>

<h2>FFTW3</h2>
<h3>Linux</h3>
<h4>Install</h4>
<div class="codehilite"><pre><span></span><code>sudo apt install libfftw3-dev
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>sudo find / -name libfftw3*
</code></pre></div>

<p>Should return a list of libraries, but could take a while. Try checking likely folders first like <strong>/usr</strong>.</p>
<h3>Mac</h3>
<h4>Install</h4>
<div class="codehilite"><pre><span></span><code>brew install fftw
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>sudo find / -name &quot;libfftw3*&quot;
</code></pre></div>

<h2>HDF5</h2>
<h3>Linux</h3>
<h4>Install</h4>
<div class="codehilite"><pre><span></span><code>sudo apt install libhdf5-dev
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>h5fc -showconfig
</code></pre></div>

<h3>Mac</h3>
<h4>Install</h4>
<p>Download the latest release of HDF5 from <a href="https://www.hdfgroup.org/downloads/hdf5/">https://www.hdfgroup.org/downloads/hdf5/</a>. Unzip the file with </p>
<div class="codehilite"><pre><span></span><code>gunzip &lt; hdf5-X.Y.Z.tar.gz | tar xf -       # replace X.Y.Z with the release number
</code></pre></div>

<p>Then, to install HDF5 at location /usr/local/hdf5, run</p>
<div class="codehilite"><pre><span></span><code>cd hdf5-X.Y.Z           # replace X.Y.Z with the release number
./configure --prefix=/usr/local/hdf5 --enable-fortran
make
make check              # optional
make install 
make check-install      # optional
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>h5fc -showconfig
</code></pre></div>

<h2>CMake</h2>
<h3>Linux</h3>
<h4>Install</h4>
<div class="codehilite"><pre><span></span><code>sudo apt install cmake
</code></pre></div>

<h4>Check Install</h4>
<div class="codehilite"><pre><span></span><code>cmake --version
</code></pre></div>
    </div>
    
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title"><a href='../../page/index.html'>Documentation</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            
            <li role="presentation">
            <a href='../../page/changelog/index.html'>CHANGELOG</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/file_spec/index.html'>File Specifications</a>
            
            <ul class="nav nav-stacked nav-pills">
              
            <li role="presentation">
            <a href='../../page/file_spec/core_elec_config.html'>Core Electron Configuration File</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/file_spec/dielectric.html'>Dielectric Data File</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/file_spec/nml_input.html'>namelist Input File</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/file_spec/output.html'>EXCEED-DM Output File</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/file_spec/pw_data_file.html'>PW Data File</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/file_spec/rhf_wf_data.html'>RHF WF Data File</a>
            
            </li>
            
            </ul>
            
            </li>
            
            <li role="presentation" class="disabled">
            <a href='../../page/install/index.html'>Installation</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/readme/index.html'>README</a>
            
            </li>
            
            <li role="presentation">
            <a href='../../page/utilities/index.html'>Utilities</a>
            
            <ul class="nav nav-stacked nav-pills">
              
            <li role="presentation">
            <a href='../../page/utilities/binned_wfc.html'>Binned Wave Function Coefficients (wfc)</a>
            
            </li>
            
            </ul>
            
            </li>
            
          </ul>
        </div>
    </div>
    
  </div>

    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-4"><p>&copy; 2021 
                                          </p></div>
        <div class="col-xs-6 col-md-4 col-md-push-4">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/cmacmackin/ford">FORD</a>
             on 2021-10-26 17:22  
          </p>
        </div>
        <div class="col-xs-12 col-md-4 col-md-pull-4"><p class="text-center"> EXCEED-DM was developed by Tanner Trickle</p></div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    
    <script src="../../tipuesearch/tipuesearch_content.js"></script>
    <script src="../../tipuesearch/tipuesearch_set.js"></script>
    <script src="../../tipuesearch/tipuesearch.js"></script>
    
    
  </body>
</html>